@model IEnumerable<AstarWeb.Models.PoleModel>

@{
    ViewData["Title"] = "View";
}

@using (Html.BeginForm("handleButtonClickWyznaczenieTrasy", "Pole"))
{
    <button class="btn-dark" name="buttonNumber" type="submit" asp-controller="Pole" asp-action="HandleButtonClickWyznaczenieTrasy">wyznacz trase</button>
}

@using (Html.BeginForm("handleButtonClickPrzeszkody", "Pole"))
{
    <button class="btn-dark" name="buttonNumber" type="submit" asp-controller="Pole" asp-action="HandleButtonClickPrzeszkody">Dodaj losowe przeszkody</button>
}

@using (Html.BeginForm("handleButtonClickReset", "Pole"))
{
    <button class="btn-dark" name="buttonNumber" type="submit" asp-controller="Pole" asp-action="handleButtonClickReset" OnClientClick="return false;">RESET</button>
}

@using (Html.BeginForm("handleButtonClickStart", "Pole"))
{
    <button class="btn-dark" name="buttonNumber" type="submit" asp-controller="Pole" asp-action="handleButtonClickStart">Wybież punkt startowy</button>
}

@using (Html.BeginForm("handleButtonClickKoniec", "Pole"))
{
    <button class="btn-dark" name="buttonNumber" type="submit" asp-controller="Pole" asp-action="handleButtonClickKoniec">Wybież punkt koncowy</button>
}


@using (Html.BeginForm("PobierzDlsiatki", "Pole"))
{
    <input type="number" name="Dl" />
    <input type="submit" />
}

@for (int i = 0; i < Model.Count(); i++)
{// modulo z DlugoscSiatki
    @if (ViewBag.DlugoscSiatki == null)
    {
        ViewBag.DlugoscSiatki = 10;
    }
    @if (i % ViewBag.DlugoscSiatki == 0)
    {
        <div style="clear:both"></div>

    }

    if (Model.ElementAt(i).StartKon == 's')
    {
        <div id="@i" class="PoleS">

            <div class="G">@Html.DisplayFor(modelItem => Model.ElementAt(i).G)</div>
            <div class="H">@Html.DisplayFor(modelItem => Model.ElementAt(i).H)</div>

            <div class="Rodzic"> Id= @Html.DisplayFor(modelItem => Model.ElementAt(i).Id) </div>

        </div>
        continue;
    }
    if (Model.ElementAt(i).StartKon == 'k')
    {
        <div id="@i" class="PoleK">

            <div class="G">@Html.DisplayFor(modelItem => Model.ElementAt(i).G)</div>
            <div class="H">@Html.DisplayFor(modelItem => Model.ElementAt(i).H)</div>

            <div class="Rodzic"> Id= @Html.DisplayFor(modelItem => Model.ElementAt(i).Id) </div>

        </div>
        continue;
    }

    @if (ViewBag.Sciezka != null)
    {
        bool dodaniePola = false;
        for (int j = 0; j < ViewBag.Sciezka.Count; j++)
        {

            if (Model.ElementAt(i).Id == ViewBag.Sciezka[j].Id)
            {
                dodaniePola = true;
                <div id="nr" class="Sciezka">
                    <div class="G">@Html.DisplayFor(modelItem => Model.ElementAt(i).G)</div>
                    <div class="H">@Html.DisplayFor(modelItem => Model.ElementAt(i).H)</div>
                    <div class="Rodzic"> Id= @Html.DisplayFor(modelItem => Model.ElementAt(i).Id) </div>
                </div>
            }
        }
        if (dodaniePola == true)
        {

            continue;
        }

    }


    if (Model.ElementAt(i).Osiagalny == true)
    {
        
        <div  class="Pole" id="@i" data-variableid2="@Model.ElementAt(i).Id">

            <div class="G">@Html.DisplayFor(modelItem => Model.ElementAt(i).G)</div>
            <div class="H">@Html.DisplayFor(modelItem => Model.ElementAt(i).H)</div>

            <div class="Rodzic"> Id= @Html.DisplayFor(modelItem => Model.ElementAt(i).Id) </div>

        </div>
        continue;
    }
    if (Model.ElementAt(i).Osiagalny == false)
    {
        <div id="@i" class="PoleP" >

            <div class="G">@Html.DisplayFor(modelItem => Model.ElementAt(i).G)</div>
            <div class="H">@Html.DisplayFor(modelItem => Model.ElementAt(i).H)</div>

            <div class="Rodzic"> Id= @Html.DisplayFor(modelItem => Model.ElementAt(i).Id) </div>

        </div>
        continue;


    }









}

